<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/index.css">
    <script type="text/javascript" src="./js/index.js" defer></script>
    <title>NRV.net</title>
</head>

<body>
    <nav>
        <button id="afficherSoiree">
            Afficher jauge soirees
        </button>
        <button id="ajouterSpectacle">
            Ajouter spectacle
        </button>
        <button id="ajouterSoiree">
            Ajouter soiree
        </button>

    </nav>
    <main>

    </main>

    <script id="templateLieu" type="text/x-handlebars-template">
</script>
</body>

<script id="templateSoirees" type="text/x-handlebars-template">
        {{#each this}}
        <div class = "soiree">
            <h3 class= "titreSoiree">
            {{this.nom}}
            </h3>
        <div class ="infoDateSoiree">
            <div class="dateSoiree">
            Date : {{this.date}}
            </div>
            <div class = "heureSoiree">
            Heure : {{this.heure_debut}}
            </div>
            <div class = "dureeSoiree">
            Duree : {{this.duree}}
            </div>
        </div>
        <div class ="lieuSoiree">
        Lieu de la soiree : {{this.lieu.nom}}
        </div>
        <div class = "infoPlacesSoiree">
    <p>Nombre de places assises vendues : {{subtract this.lieu.nb_places_assises  this.nb_places_assises_restantes }} sur {{this.lieu.nb_places_assises}} disponible</p>
    <p>Nombre de places debout vendues : {{subtract this.lieu.nb_places_debout  this.nb_places_debout_restantes}} sur {{this.lieu.nb_places_debout}} disponible</p>
    <p>Nombre de places total : {{ totalPlaces this.lieu.nb_places_debout  
    this.lieu.nb_places_assises this.nb_places_debout_restantes this.nb_places_assises_restantes}} sur {{add this.lieu.nb_places_debout this.lieu.nb_places_assises }} disponible</p>
        </div>
        </div>
        {{/each}}
</script>

<script id="templateFormSoiree" type="text/x-handlebars-template">
    <form enctype="multipart/form-data" id ="formSpectacle">
    <label for  = "nom">Nom de la soiree </label>
    <input type="text" id="nom" name="nom" required>
    <label for = "date">Date et heure</label>
    <input type = "datetime" id="date" name="date" required>
    <label for = "duree" > Duree</label>
    <input type = "time" id="duree" name = "duree" min = "01:00" max = "10:00" required>
    <label for = "tarif_normal"> Tarif Normal</label>
    <input id = "tarif_normal" type = "number" max = "1000">
    <label for = "tarif_reduit"> Tarif Reduit</label>
    <input id = "tarif_reduit" type = "number" max = "750">

    {{#each this.lieux}}

    {{/each}}

    {{#each this.themes}} 

    {{/each}}

    {{#each this.spectacles}} 
    
    {{/each}}
    </form>
</script>
<script id="templateFormSpectacle" type="text/x-handlebars-template">
    <form enctype="multipart/form-data" id ="formSpectacle">
    <label for = "titre"> Titre du spectacle</label>
    <input type ="text" id="titre" name = "titre" required>
    <label for = "description">Description </label>
    <textarea type ="text" id="description" name = "description" required> </textarea>
    <label for ="url_image"> Url de l'image </label>
    <input type = "url" id = "url_image" name = "url_image">
    <label for ="url_video"> Url de la vidéo </label>
    <input type = "url" id = "url_video" name = "url_video">
    <div id = "inputsArtists">
    {{#each this}}
    <div class = "inputArtist">
        <input type = "checkbox" id = "artiste{{@index}}" name = "artiste{{@index}}" value = "{{this.id}}" class="artistes">
        <label for = "artiste{{@index}}">Artiste {{this.prenom}}</label>
    </div>
    {{/each}}
    </div>
    <button id = "submitSpectacle" type="submit">Créer le spectacle</button>
    </form>
</script>

</html>
